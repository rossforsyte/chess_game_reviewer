from database import engine, Base
# –ò–º–ø–æ—Ä—Ç –º–æ–¥–µ–ª–µ–π –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, —á—Ç–æ–±—ã SQLAlchemy –∑–Ω–∞–ª–∞, —á—Ç–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å
from models import Game, Move

def reset_database():
    print("üß® –í–ù–ò–ú–ê–ù–ò–ï! –í—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ø–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.")
    print("–í—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–∞—Ä—Ç–∏–∏ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ.")
    
    confirm = input("‚ùì –í—ã —É–≤–µ—Ä–µ–Ω—ã? –í–≤–µ–¥–∏—Ç–µ 'yes' –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: ")
    
    if confirm.lower() != 'yes':
        print("‚ùå –û–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω–µ–Ω–∞.")
        return

    print("\nüóëÔ∏è  –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —Ç–∞–±–ª–∏—Ü—ã...")
    # drop_all —É–¥–∞–ª—è–µ—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å Base
    Base.metadata.drop_all(bind=engine)
    
    print("üêò –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ, —á–∏—Å—Ç—ã–µ —Ç–∞–±–ª–∏—Ü—ã...")
    # create_all —Å–æ–∑–¥–∞–µ—Ç –∏—Ö –∑–∞–Ω–æ–≤–æ
    Base.metadata.create_all(bind=engine)
    
    print("‚ú® –ì–æ—Ç–æ–≤–æ! –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —á–∏—Å—Ç–∞.")

if __name__ == "__main__":
    reset_database()